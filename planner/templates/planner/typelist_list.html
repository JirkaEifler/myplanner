{# Template: typelist_list.html
   Purpose: List view of all to-do lists.
   Displays each list with task count and action links (add task, edit, delete). #}

{% extends "planner/base.html" %}
{% block nav_lists %}is-active{% endblock %}

{% load static %}
{% load planner_extras %}
{% block title %}To-Do-Lists â€“ MyPlanner{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'planner/css/lists.css' %}">
{% endblock %}

{% block content %}
<div class="table-wrap">
  <h1>To-Do-Lists</h1>

  <p><a class="btn" href="{% url 'html-list_create' %}">+ Create new list</a></p>

  <table>
    <colgroup>
      <col class="col-name"    style="width:36%;">
      <col class="col-count"   style="width:16%;">
      <col class="col-actions" style="width:48%;">
    </colgroup>

    <thead>
      <tr>
        <th class="col-name">Open list detail</th>
        <th class="col-count">Task count</th>
        <th class="col-actions">Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for l in lists %}
        <tr>
          <!-- List name -->
          <td class="col-name name-cell">
            <div class="title-wrap no-label">
              <a class="chip"
                 style="--hue: {{ l.name|list_hue }};"
                 href="{% url 'html-list_detail' l.pk %}">
                {{ l.name }}
              </a>
            </div>
          </td>

          <!-- Task count -->
          <td class="col-count">{{ l.task_count }}</td>

          <!-- Actions -->
          <td class="col-actions">
            <div class="action-group">
              <a class="btn-sm btn-sm--primary" href="{% url 'html-task_create' %}?list={{ l.pk }}">Add task to this list</a>
              <a class="btn-sm" href="{% url 'html-list_edit' l.pk %}">Edit</a>
              <a class="btn-sm btn-sm--warn" href="{% url 'html-list_delete' l.pk %}">Delete</a>
            </div>
          </td>
        </tr>
      {% empty %}
        <tr>
          <td colspan="3" style="text-align:center">No lists found.</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}