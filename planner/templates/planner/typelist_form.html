{# Template: typelist_form.html
   Purpose: Form for creating or editing a to-do list.
   Renders fields and provides Save/Create with Back navigation. #}

{% extends "planner/base.html" %}
{% block nav_lists %}is-active{% endblock %}

{% block title %}{% if is_edit %}Edit list{% else %}Create list{% endif %} â€“ MyPlanner{% endblock %}

{% block content %}
  <h1>{% if is_edit %}Edit list{% else %}Create list{% endif %}</h1>

  <div class="table-wrap" style="max-width:520px;margin:0 auto;">
    <form method="post" novalidate>
      {% csrf_token %}

      <!-- Render form fields -->
      {{ form.as_p }}

      <!-- Form actions -->
      <div style="display:flex; gap:10px; justify-content:center; margin-top:10px;">
        <button class="btn btn--primary" type="submit">
          {% if is_edit %}Save{% else %}Create{% endif %}
        </button>

        <!-- Back link: to detail if editing, or to list index if creating -->
        {% if is_edit and form.instance.pk %}
          <a class="btn btn-outline" href="{% url 'html-list_detail' form.instance.pk %}">Back</a>
        {% else %}
          <a class="btn btn-outline" href="{% url 'html-list_index' %}">Back</a>
        {% endif %}
      </div>
    </form>
  </div>
{% endblock %}